# Python 循环嵌套与分支结构

## 引言

在编程世界中，循环和条件语句是构建复杂逻辑的基础。当我们将它们组合在一起时，能够实现更加强大的功能。今天，我们将深入探讨Python中的循环嵌套与分支结构，通过实例来理解这些概念的应用。

## 循环嵌套的基本概念

循环嵌套是指在一个循环体内再嵌套一个或多个循环的结构。在嵌套循环中有一个重要规则：

> **外循环循环一次，内循环将完整执行一遍**

这种结构使我们能够处理多维数据或实现复杂的迭代逻辑。

## 示例1: 乘法表 - 经典的嵌套循环应用

乘法表是学习嵌套循环最经典的例子。通过外循环控制行，内循环控制列，我们可以轻松打印出九九乘法表：

```python
# 打印乘法表
for i in range(1, 10):
    for j in range(1, i + 1):
        print(f"{j} × {i} = {i * j}", end="\t")
    print()  # 换行
```

这段代码的工作原理：
- 外循环 `i` 从1到9
- 对于每个 `i`，内循环 `j` 从1到 `i`
- 打印 `j × i = i*j` 的结果
- 每完成一行后换行

执行后，我们获得了整齐的九九乘法表，每一行的乘法式子数量随着行数增加而增加。

## 示例2: 循环中嵌套分支 - 判断奇偶数

循环与条件判断的结合是编程中常见的结构。下面的例子展示了如何在循环中使用条件分支来区分奇偶数：

```python
# 循环中嵌套分支 - 打印奇偶数
for i in range(1, 10):
    if i % 2 == 0:
        print(f"{i} 是偶数")
    else:
        print(f"{i} 是奇数")
```

这个例子中，我们使用模运算（`%`）来判断一个数是奇数还是偶数：
- 如果 `i % 2` 等于0，则 `i` 是偶数
- 否则，`i` 是奇数

这种循环中嵌套分支的结构在数据处理和分析中非常常见。

## 示例3: 嵌套循环与分支结合 - 打印图案

当嵌套循环与条件语句结合时，我们可以创建各种有趣的图案。下面是一个打印三角形图案的例子：

```python
# 嵌套循环与分支结合 - 打印特定图案
rows = 5
for i in range(1, rows + 1):
    for j in range(1, rows + 1):
        if j <= i:
            print("*", end=" ")
        else:
            print(" ", end=" ")
    print()
```

这段代码创建了一个这样的图案：
```
* 
* * 
* * * 
* * * * 
* * * * * 
```

原理是：
- 外循环控制行数
- 内循环控制每行的字符
- 通过条件判断决定打印星号还是空格

通过修改条件判断，我们可以创建各种不同的图案，如空心三角形、菱形等。

## 示例4: break和continue在嵌套循环中的使用

循环控制语句在嵌套循环中的应用更加灵活。`break` 和 `continue` 可以分别用来跳出循环和跳过当前循环：

```python
# break和continue在嵌套循环中的使用
for i in range(1, 6):
    print(f"外循环第 {i} 次")
    for j in range(1, 6):
        if j == 3:
            print(f"  遇到j=={j}，跳过本次内循环")
            continue  # 跳过当前内循环
        if i == 4 and j == 4:
            print(f"  遇到i=={i}, j=={j}，提前结束内循环")
            break  # 跳出内循环
        print(f"  内循环: i={i}, j={j}")
```

这个例子展示了：
- 当 `j == 3` 时，使用 `continue` 跳过本次内循环
- 当 `i == 4` 且 `j == 4` 时，使用 `break` 提前结束内循环

通过这种方式，我们可以在复杂的嵌套结构中实现更加精细的控制。

需要注意的是：
- `break` 只会跳出当前所在的循环层级
- `continue` 只会跳过当前所在循环层级的当次迭代

## 示例5: 实际应用 - 组合查询

嵌套循环在实际应用中非常有用，例如当我们需要查找两个集合中的所有可能组合时：

```python
# 实际应用 - 查找两个列表中的所有组合
fruits = ["苹果", "香蕉", "橙子"]
colors = ["红色", "黄色", "橙色"]

print("水果和颜色的组合:")
for fruit in fruits:
    for color in colors:
        print(f"{color}的{fruit}")
```

这个例子遍历了两个列表，生成了所有可能的水果和颜色组合。类似的逻辑可以应用于：
- 购物网站中的商品筛选
- 数据分析中的多维度统计
- 算法中的组合问题解决

## 总结与实践建议

循环嵌套和条件分支是Python编程中的重要结构，掌握它们能够让我们解决更加复杂的问题：

1. **嵌套循环**：记住外循环每执行一次，内循环将完整执行一遍
2. **循环中的分支**：通过条件判断可以对不同情况进行不同处理
3. **循环控制**：合理使用 `break` 和 `continue` 可以提高代码的效率和可读性

在实际编程中，应当注意：
- 嵌套层级不宜过多，一般不超过3层
- 复杂逻辑可以考虑拆分为独立函数
- 嵌套循环的性能消耗较大，需要注意大数据量时的优化

通过实践和练习，你将能够熟练掌握这些结构，并在实际问题解决中灵活应用它们。

---

> 关注我的微信公众号，获取更多Python学习资料和编程技巧！