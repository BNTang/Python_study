# Python循环和分支嵌套详解

## 引言

在Python编程中，循环和条件语句是最基本也是最强大的控制流工具。当我们将它们结合使用时，可以解决更加复杂的问题。本文将详细介绍Python中循环与分支嵌套的各种用法，通过实例帮助大家轻松掌握这一重要概念。

## 循环中嵌套条件语句

循环和条件语句的嵌套本质上非常简单：**只要是合法的Python代码，都能放在代码块的位置**。这为我们提供了极大的灵活性，让我们能够处理各种复杂的逻辑需求。

### 示例1: 打印1-100之间所有3的倍数

这是一个典型的循环嵌套条件语句的例子。我们需要遍历1到100的所有数字，然后使用条件语句筛选出3的倍数。

```python
print("示例1: 打印1-100之间所有3的倍数")
for i in range(1, 101):
    if i % 3 == 0:
        print(i, end=" ")
print("\n")
```

在这段代码中，我们使用`for`循环遍历1到100的所有整数，并用`if`条件判断每个数是否能被3整除（即`i % 3 == 0`）。如果满足条件，则打印这个数字。这是一个非常实用的筛选模式，在数据处理中经常用到。

### 示例2: 循环嵌套分支 - 判断1-50之间的奇数和偶数

接下来，我们来看一个包含`if-else`双分支的例子，用于区分奇数和偶数：

```python
print("示例2: 判断1-50之间的奇数和偶数")
for i in range(1, 51):
    if i % 2 == 0:
        print(f"{i}是偶数")
    else:
        print(f"{i}是奇数")
print()
```

这个例子展示了如何在循环中使用完整的条件分支结构。我们通过检查一个数除以2的余数来判断它是奇数还是偶数。如果余数为0，则是偶数；否则为奇数。这种模式在需要对集合中的元素进行分类时非常有用。

## 嵌套循环结构

嵌套循环是指在一个循环内部包含另一个循环。这种结构可以用来处理多维数据或需要多重迭代的问题。

### 示例3: 嵌套循环 - 打印乘法表

乘法表是嵌套循环的经典应用，它通过两层循环来生成二维表格：

```python
print("示例3: 打印乘法表")
for i in range(1, 10):
    for j in range(1, i + 1):
        print(f"{j}×{i}={i*j}", end="\t")
    print()
print()
```

这段代码生成了我们熟悉的九九乘法表。外层循环控制行数，从1到9；内层循环控制每行中的列数，从1到当前行号。通过这种嵌套结构，我们可以生成具有特定模式的二维数据。

嵌套循环是解决矩阵操作、图形绘制和多维数据处理等问题的关键工具。不过需要注意的是，嵌套循环会导致计算复杂度快速增长，使用时要考虑性能问题。

## 循环中的复合条件判断

在实际编程中，我们经常需要检查多个条件。Python提供了逻辑运算符`and`、`or`和`not`，使我们能够构建复合条件。

### 示例4: 循环中的多重条件判断 - 1-100中同时是3和5的倍数的数字

```python
print("示例4: 1-100中同时是3和5的倍数的数字")
for i in range(1, 101):
    if i % 3 == 0 and i % 5 == 0:
        print(i, end=" ")
print()
```

在这个例子中，我们使用了`and`逻辑运算符来结合两个条件：能被3整除且能被5整除。只有当两个条件同时满足时，数字才会被打印出来。这些数实际上就是15的倍数，因为15是3和5的最小公倍数。

## 实践技巧与注意事项

1. **代码可读性**：尽管嵌套结构强大，但过深的嵌套会导致代码难以阅读和维护。一般建议嵌套不超过3层。

2. **性能考虑**：嵌套循环的时间复杂度是各层循环复杂度的乘积。例如，两层n规模的循环嵌套通常具有O(n²)的时间复杂度。

3. **提前退出**：在适当的情况下，可以使用`break`或`return`提前结束循环，避免不必要的计算。

## 总结

循环和条件语句的嵌套是Python中非常强大的编程工具，掌握这些基础知识点可以帮助我们解决各种复杂问题。从简单的筛选操作到复杂的多维数据处理，嵌套结构几乎无处不在。

通过本文的四个示例，我们分别展示了循环中嵌套条件语句、完整分支结构、循环嵌套循环以及复合条件判断的使用方法。希望这些例子能帮助你更好地理解和应用Python的控制流结构。

在实际编程中，建议先从简单的结构开始，逐步构建复杂的逻辑。随着经验的积累，你会发现这些基础结构的组合可以解决几乎所有的编程问题。

---

欢迎关注我的公众号，获取更多Python学习资料和编程技巧！