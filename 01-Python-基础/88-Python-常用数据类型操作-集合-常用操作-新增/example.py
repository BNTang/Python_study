# -*- coding: utf-8 -*-

# @Time    : 2025-5-23
# @Author  : 程序员NEO
# @FileName: example.py
# @Software: VSCode
# @Email   : it666@linux.do
# @Github  : https://github.com/BNTang
# @Description: 88-Python-常用数据类型操作-集合-常用操作-新增

# 我们主要讲了一下关于集合
# 它的概念以及定义
# 那接下来再来看一下集合的常用操作
# 在这里主要根据操作目标的各种不同
# 总共呢把它分为两种
# 一种是单一集合操作
# 另外一种是集合之间的操作
# 什么意思呢
# 就比如说单一集合操作
# 是指操作的是某一个集合
# 到时候呢
# 有可能是往这个集合里面给它新增
# 或者说删除某些元素
# 而这个集合之间的操作
# 主要是指到时候呢你比我多个集合
# 我来求多个集合之间的一个交集
# 遍及等等类似的操作
# 所以呢我们先来看第一个
# 就是单一集合的操作
# 在这里它主要分为增删改查
# 但是又根据这个集合类型的不同
# 比如说可变集合和不可变集合
# 它们的操作方式又不太一样
# 就比如说这个可变集合
# 它可以去增删改查
# 但是这个不可变集合
# 它就不可以增删改
# 它只能查询对不对
# 因为它是属于不可变的
# 所以我们先看一下
# 可变集合里面的增加操作
# 也就是说你给我一个集合
# 我想往这个集合里面
# 给它新增一个元素
# 应该怎么做
# 接下来直接说代码
# 在这里的话呢
# 我先写一个集合
# 假设写个s
# 然后呢在等于集合的话呢
# 应该写个花括号
# 花括号里面
# 直接写上对应的元素就可以
# 比如说我写一个123就可以是吧
# 然后呢接下来
# 我想往这个集合里面
# 给它新增一个元素
# 应该怎么写呢
# 它是通过一个对象方法来完成的呐
# 来个s点i的这样一个方法
# 而且你这后面的话呢
# 需要传递一个参数
# 叫做element
# 也就是元素的意思
# 假设我现在写一个4
# 先看一下结果呐
# 来个普通的s
# 然后呢把这个类型直接给打一下
# 看一下到时候呢
# 有没有好吧
# 看着啊来右击点一下这个运行
# 好看着啊
# 它这边首先类型肯定是正确的
# 就是一个集合对
# 然后看一下里面的值啊
# 你看一开始里面只有一个123
# 现在是不是多了一个4 对
# 这就是一个集合
# 想新增一个元素
# 那注意看啊
# 当我现在啊
# 在新增这个元素的时候呢
# 我得改一下
# Ctrl加d然后呢
# 把上面给修饰掉
# 我在这个元素里面写另外一个东西
# 写什么呢
# 比如说我再写一个列表来试一下
# 看着啊列表写中括号
# 中括号里面写一个12
# 看着啊再来右击
# 点一下这个运行
# 你看这就不用报数
# 为什么呢
# 你想啊他说这个类型is的
# 根本就不是一个可哈希的值
# 所以之前我们也说过
# 像这样的一个集合
# 它的定义有几个注意事项
# 其中有一个就是
# 这个集合内部的元素必须是可哈希的
# 讲白点就是它必须是不可变的对
# 所以呢
# 你现在就得新增一个可变的一个值
# 这是错误的
# 所以当我们以后再给一个集合
# 去新增一个元素的时候
# 一定是有一个大前提
# 就是这个元素它一定是不可变的
# 是一个可哈希的值
# 注意这点就可以
# 好吧那这里先来保存个视频

# 接下来直接演示代码
print("=== 集合新增操作演示 ===")

# 创建一个集合
s = {1, 2, 3}
print(f"原始集合: {s}")
print(f"集合类型: {type(s)}")

# 使用 add() 方法新增元素
s.add(4)
print(f"新增元素4后: {s}")

# 新增字符串元素
s.add("hello")
print(f"新增字符串后: {s}")

# 新增重复元素（集合会自动去重）
s.add(1)
print(f"新增重复元素1后: {s}")

print("\n=== 错误示例：新增不可哈希元素 ===")

# 尝试新增列表（会报错）
try:
    s.add([1, 2])  # 列表是可变的，不可哈希
    print("新增列表成功")
except TypeError as e:
    print(f"错误: {e}")
    print("原因: 列表是可变类型，不能作为集合元素")

# 尝试新增字典（会报错）
try:
    s.add({"key": "value"})  # 字典是可变的，不可哈希
    print("新增字典成功")
except TypeError as e:
    print(f"错误: {e}")
    print("原因: 字典是可变类型，不能作为集合元素")

print("\n=== 可以新增的不可变类型 ===")

# 新增元组（元组是不可变的，可以哈希）
s.add((1, 2, 3))
print(f"新增元组后: {s}")

# 新增冻结集合
s.add(frozenset({5, 6, 7}))
print(f"新增冻结集合后: {s}")

print(f"\n最终集合: {s}")
print(f"集合大小: {len(s)}")

print("\n=== 总结 ===")
print("1. 使用 add() 方法向集合新增单个元素")
print("2. 只能新增可哈希（不可变）的元素")
print("3. 重复元素会被自动忽略")
print("4. 可哈希类型：数字、字符串、元组、frozenset等")
print("5. 不可哈希类型：列表、字典、集合等")
