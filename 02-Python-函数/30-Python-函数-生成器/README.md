# Pythonç”Ÿæˆå™¨è¯¦è§£ï¼šä»è¿­ä»£å™¨åˆ°ä¼˜é›…ç¼–ç¨‹çš„è¿›åŒ–ä¹‹è·¯

> å½“æˆ‘ä»¬è°ˆè®ºPythonçš„é«˜çº§ç‰¹æ€§æ—¶ï¼Œç”Ÿæˆå™¨ç»å¯¹æ˜¯ä¸€ä¸ªä¸èƒ½é”™è¿‡çš„è¯é¢˜ã€‚å®ƒä¸ä»…è®©ä»£ç æ›´åŠ ä¼˜é›…ï¼Œè¿˜èƒ½æ˜¾è‘—æå‡ç¨‹åºçš„å†…å­˜æ•ˆç‡ã€‚ä»Šå¤©ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ·±å…¥æ¢ç´¢è¿™ä¸ªç¥å¥‡çš„å·¥å…·ã€‚

## ğŸ¤” ä»€ä¹ˆæ˜¯ç”Ÿæˆå™¨ï¼Ÿ

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼š**ç”Ÿæˆå™¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¿­ä»£å™¨**ã€‚

è¿™å°±åƒè¯´"äººæ˜¯ä¸€ç§ç‰¹æ®Šçš„åŠ¨ç‰©"ä¸€æ ·ï¼š
- ç”Ÿæˆå™¨ â†’ è¿­ä»£å™¨ï¼ˆç”Ÿæˆå™¨æ˜¯ç‰¹æ®Šçš„è¿­ä»£å™¨ï¼‰
- äºº â†’ åŠ¨ç‰©ï¼ˆäººæ˜¯ç‰¹æ®Šçš„åŠ¨ç‰©ï¼‰

ä½†åè¿‡æ¥ä¸æˆç«‹ï¼š
- è¿­ä»£å™¨ä¸ä¸€å®šæ˜¯ç”Ÿæˆå™¨
- åŠ¨ç‰©ä¸ä¸€å®šæ˜¯äºº

ä»æŠ½è±¡å±‚æ¬¡æ¥çœ‹ï¼Œè¿­ä»£å™¨çš„æŠ½è±¡å±‚çº§æ›´é«˜ï¼Œè€Œç”Ÿæˆå™¨æ›´åŠ å…·ä½“åŒ–ã€‚

## ğŸ“š å›é¡¾ï¼šè¿­ä»£å™¨çš„ä¸‰å¤§ç‰¹æ€§

åœ¨ç†è§£ç”Ÿæˆå™¨ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹è¿­ä»£å™¨çš„æ ¸å¿ƒç‰¹æ€§ï¼š

### 1. æƒ°æ€§è®¡ç®—æ•°æ®ï¼ŒèŠ‚çœå†…å­˜

æƒ³è±¡ä¸€ä¸‹è¿™æ ·çš„åœºæ™¯ï¼šæ¡Œå­ä¸Šæœ‰20ä¸ªå¤§è¥¿ç“œï¼Œä½ æƒ³åƒå®Œå®ƒä»¬ã€‚

**ä¼ ç»Ÿæ–¹å¼**ï¼šä¸€æ¬¡æ€§æŠŠæ‰€æœ‰è¥¿ç“œéƒ½æŠ±åˆ°æ€€é‡Œ
- ç»“æœï¼šç´¯æ­»ä½ ï¼Œæ ¹æœ¬æŠ±ä¸å®Œ
- é—®é¢˜ï¼šå ç”¨å¤§é‡ç©ºé—´ï¼Œæ•ˆç‡ä½ä¸‹

**è¿­ä»£å™¨æ–¹å¼**ï¼šæƒ³åƒçš„æ—¶å€™å†å»æ‹¿ä¸€ä¸ª
- åƒå®Œä¸€ä¸ªæ‰”æ‰ï¼Œå†å»æ‹¿ä¸‹ä¸€ä¸ª
- ç»“æœï¼šè½»æ¾æ„‰å¿«ï¼ŒèŠ‚çœç©ºé—´

è¿™å°±æ˜¯**æƒ°æ€§è®¡ç®—**çš„ç²¾é«“ï¼šä¸æ˜¯æˆ‘ä¸æƒ³å¤„ç†ï¼Œè€Œæ˜¯æˆ‘åªåœ¨éœ€è¦çš„æ—¶å€™æ‰å¤„ç†ã€‚

### 2. è®°å½•çŠ¶æ€ï¼Œé€šè¿‡next()è®¿é—®ä¸‹ä¸€ä¸ªçŠ¶æ€

è¿­ä»£å™¨ä¼šè‡ªåŠ¨è®°ä½ï¼š
- å½“å‰å¤„ç†åˆ°å“ªä¸ªå…ƒç´ äº†
- ä¸‹ä¸€ä¸ªåº”è¯¥å¤„ç†å“ªä¸ªå…ƒç´ 
- é€šè¿‡`next()`å‡½æ•°è·å–ä¸‹ä¸€ä¸ªå€¼

### 3. å…·å¤‡å¯è¿­ä»£ç‰¹æ€§

å¯ä»¥ä½¿ç”¨`for`å¾ªç¯è¿›è¡Œéå†ï¼Œè¿™æ˜¯Pythonä¸­"å¯è¿­ä»£å¯¹è±¡"çš„æ ‡å‡†ç‰¹å¾ã€‚

## ğŸš€ ä¸ºä»€ä¹ˆéœ€è¦ç”Ÿæˆå™¨ï¼Ÿ

è™½ç„¶è¿­ä»£å™¨å¾ˆå¼ºå¤§ï¼Œä½†æ‰‹åŠ¨å®ç°ä¸€ä¸ªè¿­ä»£å™¨ç±»ç›¸å½“å¤æ‚ï¼š

```python
# ä¼ ç»Ÿè¿­ä»£å™¨å®ç°ï¼ˆå¤æ‚ç‰ˆæœ¬ï¼‰
class StudentIterator:
    def __init__(self, students):
        self.students = students
        self.index = 0
    
    def __iter__(self):
        return self
    
    def __next__(self):
        if self.index >= len(self.students):
            raise StopIteration
        student = self.students[self.index]
        self.index += 1
        return student

class StudentClass:
    def __init__(self):
        self.students = ["å¼ ä¸‰", "æå››", "ç‹äº”"]
    
    def __iter__(self):
        return StudentIterator(self.students)
```

çœ‹åˆ°äº†å—ï¼Ÿä»…ä»…æ˜¯ä¸ºäº†å®ç°ä¸€ä¸ªç®€å•çš„å­¦ç”Ÿéå†ï¼Œæˆ‘ä»¬å°±éœ€è¦å†™è¿™ä¹ˆå¤šä»£ç ï¼

è¿™æ—¶å€™ï¼Œç”Ÿæˆå™¨å°±é—ªäº®ç™»åœºäº†ï¼Œå®ƒæä¾›äº†ä¸€ç§**æ›´åŠ ä¼˜é›…**çš„è§£å†³æ–¹æ¡ˆã€‚

## âœ¨ ç”Ÿæˆå™¨çš„åˆ›å»ºæ–¹å¼

### æ–¹å¼ä¸€ï¼šç”Ÿæˆå™¨å‡½æ•°ï¼ˆä½¿ç”¨yieldå…³é”®å­—ï¼‰

```python
# ç®€å•ç”Ÿæˆå™¨å‡½æ•°
def simple_generator():
    print("ç”Ÿæˆç¬¬ä¸€ä¸ªå€¼")
    yield 1
    print("ç”Ÿæˆç¬¬äºŒä¸ªå€¼")
    yield 2
    print("ç”Ÿæˆç¬¬ä¸‰ä¸ªå€¼")
    yield 3

# ä½¿ç”¨ç”Ÿæˆå™¨
gen = simple_generator()
print(next(gen))  # è¾“å‡ºï¼šç”Ÿæˆç¬¬ä¸€ä¸ªå€¼ï¼Œç„¶åè¿”å›1
print(next(gen))  # è¾“å‡ºï¼šç”Ÿæˆç¬¬äºŒä¸ªå€¼ï¼Œç„¶åè¿”å›2
print(next(gen))  # è¾“å‡ºï¼šç”Ÿæˆç¬¬ä¸‰ä¸ªå€¼ï¼Œç„¶åè¿”å›3
```

çœ‹åˆ°äº†å—ï¼Ÿ`yield`å…³é”®å­—å°±åƒä¸€ä¸ªé­”æ³•æ£’ï¼Œè®©å‡½æ•°å˜æˆäº†ç”Ÿæˆå™¨ï¼

### æ–¹å¼äºŒï¼šç”Ÿæˆå™¨è¡¨è¾¾å¼

```python
# ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼ˆç±»ä¼¼åˆ—è¡¨æ¨å¯¼å¼ï¼Œä½†ç”¨åœ†æ‹¬å·ï¼‰
gen = (x ** 2 for x in range(5))
print(list(gen))  # è¾“å‡ºï¼š[0, 1, 4, 9, 16]
```

## ğŸ”§ å®æˆ˜åº”ç”¨ï¼šä»å¤æ‚åˆ°ç®€æ´çš„æ¼”è¿›

è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå­¦ç”Ÿç®¡ç†ç³»ç»Ÿçš„ä¾‹å­ï¼Œçœ‹çœ‹ç”Ÿæˆå™¨å¦‚ä½•è®©ä»£ç å˜å¾—ä¼˜é›…ã€‚

### ä¼ ç»Ÿæ–¹å¼ï¼ˆç¹çç‰ˆæœ¬ï¼‰

```python
class StudentClass:
    def __init__(self, class_name):
        self.class_name = class_name
        self.students = []
    
    def add_student(self, name):
        self.students.append(name)
    
    def get_all_students(self):
        # ä¸€æ¬¡æ€§è¿”å›æ‰€æœ‰å­¦ç”Ÿï¼ˆå ç”¨å†…å­˜ï¼‰
        return self.students.copy()

# ä½¿ç”¨æ–¹å¼
my_class = StudentClass("Pythonå­¦ä¹ ç­")
my_class.add_student("å¼ ä¸‰")
my_class.add_student("æå››")
my_class.add_student("ç‹äº”")

# ä¼ ç»Ÿç‚¹åæ–¹å¼
all_students = my_class.get_all_students()
for student in all_students:
    print(f"å«åˆ°äº†ï¼š{student}")
```

### ç”Ÿæˆå™¨æ–¹å¼ï¼ˆä¼˜é›…ç‰ˆæœ¬ï¼‰

```python
class StudentClass:
    def __init__(self, class_name):
        self.class_name = class_name
        self.students = []
    
    def add_student(self, name):
        self.students.append(name)
    
    def call_students(self):
        # ç”Ÿæˆå™¨æ–¹å¼ï¼šæŒ‰éœ€å«å­¦ç”Ÿ
        for student in self.students:
            print(f"å‡†å¤‡å«ï¼š{student}")
            yield student  # é­”æ³•å°±åœ¨è¿™é‡Œï¼

# ä½¿ç”¨æ–¹å¼
my_class = StudentClass("Pythonå­¦ä¹ ç­")
my_class.add_student("å¼ ä¸‰")
my_class.add_student("æå››")
my_class.add_student("ç‹äº”")

# ç”Ÿæˆå™¨ç‚¹åæ–¹å¼
student_gen = my_class.call_students()
for i, student in enumerate(student_gen):
    print(f"ç¬¬{i+1}ä¸ªå­¦ç”Ÿï¼š{student}")
    if i == 1:  # åªå«å‰2ä¸ªå­¦ç”Ÿ
        print("æš‚åœç‚¹å...")
        break
```

## ğŸŒŸ é«˜çº§åº”ç”¨ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—ç”Ÿæˆå™¨

è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªæ›´æœ‰è¶£çš„ä¾‹å­ï¼š

```python
def fibonacci_generator(n):
    """æ–æ³¢é‚£å¥‘æ•°åˆ—ç”Ÿæˆå™¨"""
    a, b = 0, 1
    count = 0
    
    while count < n:
        yield a  # æ¯æ¬¡è¿”å›å½“å‰å€¼
        a, b = b, a + b  # æ›´æ–°çŠ¶æ€
        count += 1

# ä½¿ç”¨ç”Ÿæˆå™¨
fib_gen = fibonacci_generator(10)
for i, value in enumerate(fib_gen):
    print(f"ç¬¬{i+1}ä¸ªæ–æ³¢é‚£å¥‘æ•°ï¼š{value}")
```

è¿™ä¸ªä¾‹å­å®Œç¾å±•ç¤ºäº†ç”Ÿæˆå™¨çš„**çŠ¶æ€è®°å½•**ç‰¹æ€§ï¼šæ¯æ¬¡è°ƒç”¨éƒ½èƒ½è®°ä½ä¸Šæ¬¡çš„è®¡ç®—ç»“æœã€‚

## ğŸ¯ ç”Ÿæˆå™¨ vs ä¼ ç»Ÿæ–¹å¼ï¼šå†…å­˜å¯¹æ¯”

```python
# ä¼ ç»Ÿæ–¹å¼ï¼šä¸€æ¬¡æ€§åˆ›å»ºå¤§åˆ—è¡¨
def create_large_list():
    return [x for x in range(1000000)]  # ç«‹å³å ç”¨å¤§é‡å†…å­˜

# ç”Ÿæˆå™¨æ–¹å¼ï¼šæŒ‰éœ€ç”Ÿæˆ
def create_large_generator():
    return (x for x in range(1000000))  # å‡ ä¹ä¸å ç”¨å†…å­˜

# å†…å­˜ä½¿ç”¨å¯¹æ¯”
big_list = create_large_list()      # å ç”¨çº¦40MBå†…å­˜
big_gen = create_large_generator()  # å‡ ä¹ä¸å ç”¨å†…å­˜

print(f"åˆ—è¡¨å¤§å°ï¼š{len(big_list)}")  # éœ€è¦éå†æ‰çŸ¥é“å¤§å°
print(f"ç”Ÿæˆå™¨å¯¹è±¡ï¼š{big_gen}")      # åªæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡
```

## ğŸ’¡ ç”Ÿæ´»åŒ–ç†è§£ï¼šåƒè¥¿ç“œçš„æ™ºæ…§

è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªç”Ÿæ´»åŒ–çš„ä¾‹å­æ¥åŠ æ·±ç†è§£ï¼š

```python
class WatermelonEater:
    def __init__(self, total_melons):
        self.total_melons = total_melons
    
    def eat_all_at_once(self):
        """ä¼ ç»Ÿæ–¹å¼ï¼šä¸€æ¬¡æ€§æŠ±æ‰€æœ‰è¥¿ç“œ"""
        melons = [f"è¥¿ç“œ{i+1}" for i in range(self.total_melons)]
        print(f"ä¸€æ¬¡æ€§æŠ±äº†{len(melons)}ä¸ªè¥¿ç“œï¼Œæ‰‹éƒ½æ‹¿ä¸ä¸‹äº†ï¼")
        return melons
    
    def eat_one_by_one(self):
        """ç”Ÿæˆå™¨æ–¹å¼ï¼šä¸€ä¸ªä¸€ä¸ªåƒè¥¿ç“œ"""
        for i in range(self.total_melons):
            melon = f"è¥¿ç“œ{i+1}"
            print(f"æ‹¿äº†{melon}ï¼Œåƒå®Œåæ‰”æ‰")
            yield melon

# å¯¹æ¯”ä¸¤ç§æ–¹å¼
eater = WatermelonEater(5)

print("ä¼ ç»Ÿæ–¹å¼ï¼š")
all_melons = eater.eat_all_at_once()

print("\nç”Ÿæˆå™¨æ–¹å¼ï¼š")
melon_gen = eater.eat_one_by_one()
for melon in melon_gen:
    print(f"æ­£åœ¨äº«ç”¨ï¼š{melon}")
```

## ğŸ¨ ç”Ÿæˆå™¨çš„ä¼˜åŠ¿æ€»ç»“

1. **å†…å­˜æ•ˆç‡**ï¼šæƒ°æ€§è®¡ç®—ï¼ŒæŒ‰éœ€ç”Ÿæˆï¼ŒèŠ‚çœå†…å­˜
2. **çŠ¶æ€ä¿æŒ**ï¼šè‡ªåŠ¨è®°å½•æ‰§è¡Œä½ç½®ï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†
3. **ä»£ç ç®€æ´**ï¼šä¸€ä¸ª`yield`å…³é”®å­—èƒœè¿‡å¤æ‚çš„è¿­ä»£å™¨ç±»
4. **å¯è¿­ä»£æ€§**ï¼šå®Œå…¨å…¼å®¹Pythonçš„è¿­ä»£åè®®

## ğŸ” å…³é”®æ¦‚å¿µå›é¡¾

- **ç”Ÿæˆå™¨æ˜¯ç‰¹æ®Šçš„è¿­ä»£å™¨**ï¼šæŠ½è±¡å±‚æ¬¡æ›´é«˜ï¼Œä½¿ç”¨æ›´ç®€å•
- **yieldå…³é”®å­—**ï¼šè®©æ™®é€šå‡½æ•°å˜æˆç”Ÿæˆå™¨çš„é­”æ³•
- **æƒ°æ€§æ±‚å€¼**ï¼šéœ€è¦æ—¶æ‰è®¡ç®—ï¼Œä¸éœ€è¦æ—¶ä¸æµªè´¹èµ„æº
- **çŠ¶æ€è®°å½•**ï¼šè‡ªåŠ¨è®°ä½æ‰§è¡Œåˆ°å“ªé‡Œäº†

## ğŸ“ å­¦ä¹ é‡ç‚¹

1. ç”Ÿæˆå™¨æ˜¯ç‰¹æ®Šçš„è¿­ä»£å™¨ï¼ŒæŠ½è±¡å±‚æ¬¡æ›´é«˜
2. ä½¿ç”¨`yield`å…³é”®å­—åˆ›å»ºç”Ÿæˆå™¨å‡½æ•°
3. ç”Ÿæˆå™¨å…·å¤‡æƒ°æ€§è®¡ç®—ã€çŠ¶æ€è®°å½•ã€å¯è¿­ä»£ä¸‰å¤§ç‰¹æ€§
4. ç›¸æ¯”æ‰‹åŠ¨å®ç°è¿­ä»£å™¨ï¼Œç”Ÿæˆå™¨æ›´åŠ ç®€æ´ä¼˜é›…
5. é€‚ç”¨äºå¤„ç†å¤§é‡æ•°æ®æˆ–éœ€è¦æŒ‰éœ€ç”Ÿæˆæ•°æ®çš„åœºæ™¯

## ğŸš€ ä¸‹æœŸé¢„å‘Š

ä¸‹ä¸€æœŸæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ç”Ÿæˆå™¨çš„é«˜çº§ç”¨æ³•ï¼ŒåŒ…æ‹¬ç”Ÿæˆå™¨çš„`send()`æ–¹æ³•ã€å¼‚å¸¸å¤„ç†ï¼Œä»¥åŠå¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­å·§å¦™è¿ç”¨ç”Ÿæˆå™¨æ¥ä¼˜åŒ–æ€§èƒ½ã€‚

---

**ä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œï¼Œå¦‚æœè§‰å¾—æœ‰å¸®åŠ©ï¼Œåˆ«å¿˜äº†ç‚¹èµå’Œè½¬å‘å“¦ï¼æœ‰ä»»ä½•é—®é¢˜æ¬¢è¿åœ¨è¯„è®ºåŒºè®¨è®ºï½**

> ç¼–ç¨‹ä¸ä»…ä»…æ˜¯å†™ä»£ç ï¼Œæ›´æ˜¯ä¸€ç§æ€ç»´æ–¹å¼çš„ä½“ç°ã€‚ç”Ÿæˆå™¨æ•™ä¼šæˆ‘ä»¬ï¼šæœ‰æ—¶å€™ï¼Œä¼˜é›…çš„è§£å†³æ–¹æ¡ˆå°±è—åœ¨æœ€ç®€å•çš„è¯­æ³•ç³–é‡Œã€‚
